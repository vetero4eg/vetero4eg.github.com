<!--
	Список – связанный набор объектов, где первый объект содержит ссылкун на второй, второй –
	на третий, и т.п. Напишите функцию arrayToList, которая строит такую структуру, получая
	в качестве аргумента [1, 2, 3], а также функцию listToArray, которая создаёт массив из списка.
	Также напишите вспомогательную функцию prepend, которая получает элемент и создаёт новый список,
	где этот элемент добавлен спереди к первоначальному списку, и рекурсивную функцию nth, которая
	в качестве аргументов принимает список и число, а возвращает элемент на заданной позиции в списке,
	или же undefined в случае отсутствия такого элемента.
-->


<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>arrayToList</title>
	<script type="text/javascript">

	function arrayToList(array) {
		var list = null;
		var iteration = array.length -1;
		for(var i = iteration; i >= 0; i--){
			list = {value: array[i], rest: list};
		}
		return list;
	}

	function listToArray(list) {
		var array = [];
		for(var node = list; node; node = node.rest)
			array.push(node.value);
		return array;
	}

	function prepend(value, list) {
		return {value: value, rest: list};
	}

	function nth(list, number) {
		if (!list)
			return undefined;
		else if (number == 0)
			return list.value;
		else
			return nth(list.rest, number-1);
	}

	var list = arrayToList([1, 2, 3, 4, 5]);
	console.log(list);
	var arr = listToArray(list);
	console.log(arr);
	var list2 = prepend(0, list);
		console.log(list2);
	console.log(nth(list, 3));
	console.log(nth(list, 0);
	console.log(nth(list, 0);

	</script>
</head>
<body>

</body>
</html>
