function getPasteEvent(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}!function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.bxSlider=function(a){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(a)}),this;var r={},o=this;t.el=this;var s=e(window).width(),l=e(window).height(),d=function(){r.settings=e.extend({},n,a),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.children=o.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages="all"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp="vertical"==r.settings.mode?"top":"left",r.usingCSS=r.settings.useCSS&&"fade"!=r.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return r.cssPrefix=t[i].replace("Perspective","").toLowerCase(),r.animProp="-"+r.cssPrefix+"-transform",!0;return!1}(),"vertical"==r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(r.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c()},c=function(){o.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),r.viewport=o.parent(),r.loader=e('<div class="bx-loading" />'),r.viewport.prepend(r.loader),o.css({width:"horizontal"==r.settings.mode?100*r.children.length+215+"%":"auto",position:"relative"}),r.usingCSS&&r.settings.easing?o.css("-"+r.cssPrefix+"-transition-timing-function",r.settings.easing):r.settings.easing||(r.settings.easing="swing"),v(),r.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),r.viewport.parent().css({maxWidth:g()}),r.settings.pager||r.viewport.parent().css({margin:"0 auto 0px"}),r.children.css({float:"horizontal"==r.settings.mode?"left":"none",listStyle:"none",position:"relative"}),r.children.css("width",h()),"horizontal"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginRight",r.settings.slideMargin),"vertical"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginBottom",r.settings.slideMargin),"fade"==r.settings.mode&&(r.children.css({position:"absolute",zIndex:0,display:"none"}),r.children.eq(r.settings.startSlide).css({zIndex:r.settings.slideZIndex,display:"block"})),r.controls.el=e('<div class="bx-controls" />'),r.settings.captions&&C(),r.active.last=r.settings.startSlide==m()-1,r.settings.video&&o.fitVids();var t=r.children.eq(r.settings.startSlide);"all"==r.settings.preloadImages&&(t=r.children),r.settings.ticker?r.settings.pager=!1:(r.settings.pager&&S(),r.settings.controls&&_(),r.settings.auto&&r.settings.autoControls&&T(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),u(t,p)},u=function(t,i){var n=t.find("img, iframe").length;if(0==n)return void i();var a=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++a==n&&i()}).each(function(){this.complete&&e(this).load()})})},p=function(){if(r.settings.infiniteLoop&&"fade"!=r.settings.mode&&!r.settings.ticker){var t="vertical"==r.settings.mode?r.settings.minSlides:r.settings.maxSlides,i=r.children.slice(0,t).clone().addClass("bx-clone"),n=r.children.slice(-t).clone().addClass("bx-clone");o.append(i).prepend(n)}r.loader.remove(),b(),"vertical"==r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(f()),o.redrawSlider(),r.settings.onSliderLoad(r.active.index),r.initialized=!0,r.settings.responsive&&e(window).bind("resize",H),r.settings.auto&&r.settings.autoStart&&z(),r.settings.ticker&&I(),r.settings.pager&&A(r.settings.startSlide),r.settings.controls&&q(),r.settings.touchEnabled&&!r.settings.ticker&&L()},f=function(){var t=0,n=e();if("vertical"==r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var a=1==r.settings.moveSlides?r.active.index:r.active.index*x();for(n=r.children.eq(a),i=1;i<=r.settings.maxSlides-1;i++)n=a+i>=r.children.length?n.add(r.children.eq(i-1)):n.add(r.children.eq(a+i))}else n=r.children.eq(r.active.index);else n=r.children;return"vertical"==r.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),r.settings.slideMargin>0&&(t+=r.settings.slideMargin*(r.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},g=function(){var e="100%";return r.settings.slideWidth>0&&(e="horizontal"==r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),e},h=function(){var e=r.settings.slideWidth,t=r.viewport.width();return 0==r.settings.slideWidth||r.settings.slideWidth>t&&!r.carousel||"vertical"==r.settings.mode?e=t:r.settings.maxSlides>1&&"horizontal"==r.settings.mode&&(t>r.maxThreshold||t<r.minThreshold&&(e=(t-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides)),e},v=function(){var e=1;if("horizontal"==r.settings.mode&&r.settings.slideWidth>0)if(r.viewport.width()<r.minThreshold)e=r.settings.minSlides;else if(r.viewport.width()>r.maxThreshold)e=r.settings.maxSlides;else{var t=r.children.first().width();e=Math.floor(r.viewport.width()/t)}else"vertical"==r.settings.mode&&(e=r.settings.minSlides);return e},m=function(){var e=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)e=r.children.length/x();else for(var t=0,i=0;t<r.children.length;)++e,t=i+v(),i+=r.settings.moveSlides<=v()?r.settings.moveSlides:v();else e=Math.ceil(r.children.length/v());return e},x=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=v()?r.settings.moveSlides:v()},b=function(){if(r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop){if("horizontal"==r.settings.mode){var e=r.children.last(),t=e.position();w(-(t.left-(r.viewport.width()-e.width())),"reset",0)}else if("vertical"==r.settings.mode){var i=r.children.length-r.settings.minSlides,t=r.children.eq(i).position();w(-t.top,"reset",0)}}else{var t=r.children.eq(r.active.index*x()).position();r.active.index==m()-1&&(r.active.last=!0),void 0!=t&&("horizontal"==r.settings.mode?w(-t.left,"reset",0):"vertical"==r.settings.mode&&w(-t.top,"reset",0))}},w=function(e,t,i,n){if(r.usingCSS){var a="vertical"==r.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";o.css("-"+r.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(o.css(r.animProp,a),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),O()})):"reset"==t?o.css(r.animProp,a):"ticker"==t&&(o.css("-"+r.cssPrefix+"-transition-timing-function","linear"),o.css(r.animProp,a),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),D()}))}else{var s={};s[r.animProp]=e,"slide"==t?o.animate(s,i,r.settings.easing,function(){O()}):"reset"==t?o.css(r.animProp,e):"ticker"==t&&o.animate(s,speed,"linear",function(){w(n.resetValue,"reset",0),D()})}},y=function(){for(var t="",i=m(),n=0;i>n;n++){var a="";r.settings.buildPager&&e.isFunction(r.settings.buildPager)?(a=r.settings.buildPager(n),r.pagerEl.addClass("bx-custom-pager")):(a=n+1,r.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+a+"</a></div>"}r.pagerEl.html(t)},S=function(){r.settings.pagerCustom?r.pagerEl=e(r.settings.pagerCustom):(r.pagerEl=e('<div class="bx-pager" />'),r.settings.pagerSelector?e(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass("bx-has-pager").append(r.pagerEl),y()),r.pagerEl.on("click","a",F)},_=function(){r.controls.next=e('<a class="bx-next" href="">'+r.settings.nextText+"</a>"),r.controls.prev=e('<a class="bx-prev" href="">'+r.settings.prevText+"</a>"),r.controls.next.bind("click",k),r.controls.prev.bind("click",E),r.settings.nextSelector&&e(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&e(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=e('<div class="bx-controls-direction" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass("bx-has-controls-direction").append(r.controls.directionEl))},T=function(){r.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+r.settings.startText+"</a></div>"),r.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+r.settings.stopText+"</a></div>"),r.controls.autoEl=e('<div class="bx-controls-auto" />'),r.controls.autoEl.on("click",".bx-start",P),r.controls.autoEl.on("click",".bx-stop",j),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?e(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass("bx-has-controls-auto").append(r.controls.autoEl),M(r.settings.autoStart?"stop":"start")},C=function(){r.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},k=function(e){r.settings.auto&&o.stopAuto(),o.goToNextSlide(),e.preventDefault()},E=function(e){r.settings.auto&&o.stopAuto(),o.goToPrevSlide(),e.preventDefault()},P=function(e){o.startAuto(),e.preventDefault()},j=function(e){o.stopAuto(),e.preventDefault()},F=function(t){r.settings.auto&&o.stopAuto();var i=e(t.currentTarget),n=parseInt(i.attr("data-slide-index"));n!=r.active.index&&o.goToSlide(n),t.preventDefault()},A=function(t){var i=r.children.length;return"short"==r.settings.pagerType?(r.settings.maxSlides>1&&(i=Math.ceil(r.children.length/r.settings.maxSlides)),void r.pagerEl.html(t+1+r.settings.pagerShortSeparator+i)):(r.pagerEl.find("a").removeClass("active"),void r.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},O=function(){if(r.settings.infiniteLoop){var e="";0==r.active.index?e=r.children.eq(0).position():r.active.index==m()-1&&r.carousel?e=r.children.eq((m()-1)*x()).position():r.active.index==r.children.length-1&&(e=r.children.eq(r.children.length-1).position()),e&&("horizontal"==r.settings.mode?w(-e.left,"reset",0):"vertical"==r.settings.mode&&w(-e.top,"reset",0))}r.working=!1,r.settings.onSlideAfter(r.children.eq(r.active.index),r.oldIndex,r.active.index)},M=function(e){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[e]):(r.controls.autoEl.find("a").removeClass("active"),r.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},q=function(){1==m()?(r.controls.prev.addClass("disabled"),r.controls.next.addClass("disabled")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0==r.active.index?(r.controls.prev.addClass("disabled"),r.controls.next.removeClass("disabled")):r.active.index==m()-1?(r.controls.next.addClass("disabled"),r.controls.prev.removeClass("disabled")):(r.controls.prev.removeClass("disabled"),r.controls.next.removeClass("disabled")))},z=function(){r.settings.autoDelay>0?setTimeout(o.startAuto,r.settings.autoDelay):o.startAuto(),r.settings.autoHover&&o.hover(function(){r.interval&&(o.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(o.startAuto(!0),r.autoPaused=null)})},I=function(){var t=0;if("next"==r.settings.autoDirection)o.append(r.children.clone().addClass("bx-clone"));else{o.prepend(r.children.clone().addClass("bx-clone"));var i=r.children.first().position();t="horizontal"==r.settings.mode?-i.left:-i.top}w(t,"reset",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&!r.usingCSS&&r.viewport.hover(function(){o.stop()},function(){var t=0;r.children.each(function(){t+="horizontal"==r.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=r.settings.speed/t,n="horizontal"==r.settings.mode?"left":"top";D(i*(t-Math.abs(parseInt(o.css(n)))))}),D()},D=function(e){speed=e?e:r.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==r.settings.autoDirection?t=o.find(".bx-clone").first().position():i=r.children.first().position();var n="horizontal"==r.settings.mode?-t.left:-t.top,a="horizontal"==r.settings.mode?-i.left:-i.top,s={resetValue:a};w(n,"ticker",speed,s)},L=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind("touchstart",R)},R=function(e){if(r.working)e.preventDefault();else{r.touch.originalPos=o.position();var t=e.originalEvent;r.touch.start.x=t.changedTouches[0].pageX,r.touch.start.y=t.changedTouches[0].pageY,r.viewport.bind("touchmove",W),r.viewport.bind("touchend",$)}},W=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-r.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-r.touch.start.y);if(3*i>n&&r.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&r.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=r.settings.mode&&r.settings.oneToOneTouch){var a=0;if("horizontal"==r.settings.mode){var o=t.changedTouches[0].pageX-r.touch.start.x;a=r.touch.originalPos.left+o}else{var o=t.changedTouches[0].pageY-r.touch.start.y;a=r.touch.originalPos.top+o}w(a,"reset",0)}},$=function(e){r.viewport.unbind("touchmove",W);var t=e.originalEvent,i=0;if(r.touch.end.x=t.changedTouches[0].pageX,r.touch.end.y=t.changedTouches[0].pageY,"fade"==r.settings.mode){var n=Math.abs(r.touch.start.x-r.touch.end.x);n>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())}else{var n=0;"horizontal"==r.settings.mode?(n=r.touch.end.x-r.touch.start.x,i=r.touch.originalPos.left):(n=r.touch.end.y-r.touch.start.y,i=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0==r.active.index&&n>0||r.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=r.settings.swipeThreshold?(0>n?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):w(i,"reset",200)}r.viewport.unbind("touchend",$)},H=function(){var t=e(window).width(),i=e(window).height();(s!=t||l!=i)&&(s=t,l=i,o.redrawSlider(),r.settings.onSliderResize.call(o,r.active.index))};return o.goToSlide=function(t,i){if(!r.working&&r.active.index!=t)if(r.working=!0,r.oldIndex=r.active.index,r.active.index=0>t?m()-1:t>=m()?0:t,r.settings.onSlideBefore(r.children.eq(r.active.index),r.oldIndex,r.active.index),"next"==i?r.settings.onSlideNext(r.children.eq(r.active.index),r.oldIndex,r.active.index):"prev"==i&&r.settings.onSlidePrev(r.children.eq(r.active.index),r.oldIndex,r.active.index),r.active.last=r.active.index>=m()-1,r.settings.pager&&A(r.active.index),r.settings.controls&&q(),"fade"==r.settings.mode)r.settings.adaptiveHeight&&r.viewport.height()!=f()&&r.viewport.animate({height:f()},r.settings.adaptiveHeightSpeed),r.children.filter(":visible").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css("zIndex",r.settings.slideZIndex+1).fadeIn(r.settings.speed,function(){e(this).css("zIndex",r.settings.slideZIndex),O()});else{r.settings.adaptiveHeight&&r.viewport.height()!=f()&&r.viewport.animate({height:f()},r.settings.adaptiveHeightSpeed);var n=0,a={left:0,top:0};if(!r.settings.infiniteLoop&&r.carousel&&r.active.last)if("horizontal"==r.settings.mode){var s=r.children.eq(r.children.length-1);a=s.position(),n=r.viewport.width()-s.outerWidth()}else{var l=r.children.length-r.settings.minSlides;a=r.children.eq(l).position()}else if(r.carousel&&r.active.last&&"prev"==i){var d=1==r.settings.moveSlides?r.settings.maxSlides-x():(m()-1)*x()-(r.children.length-r.settings.maxSlides),s=o.children(".bx-clone").eq(d);a=s.position()}else if("next"==i&&0==r.active.index)a=o.find("> .bx-clone").eq(r.settings.maxSlides).position(),r.active.last=!1;else if(t>=0){var c=t*x();a=r.children.eq(c).position()}if(void 0!==a){var u="horizontal"==r.settings.mode?-(a.left-n):-a.top;w(u,"slide",r.settings.speed)}}},o.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var e=parseInt(r.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!=r.active.index){var e=parseInt(r.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){r.interval||(r.interval=setInterval(function(){"next"==r.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&1!=e&&M("stop"))},o.stopAuto=function(e){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&1!=e&&M("start"))},o.getCurrentSlide=function(){return r.active.index},o.getCurrentSlideElement=function(){return r.children.eq(r.active.index)},o.getSlideCount=function(){return r.children.length},o.redrawSlider=function(){r.children.add(o.find(".bx-clone")).outerWidth(h()),r.viewport.css("height",f()),r.settings.ticker||b(),r.active.last&&(r.active.index=m()-1),r.active.index>=m()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(y(),A(r.active.index))},o.destroySlider=function(){r.initialized&&(r.initialized=!1,e(".bx-clone",this).remove(),r.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.settings.controls&&r.pagerEl.remove(),e(".bx-caption",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),r.settings.responsive&&e(window).unbind("resize",H))},o.reloadSlider=function(e){void 0!=e&&(a=e),o.destroySlider(),d()},d(),this}}(jQuery),function(e,t,i,n){"use strict";var a=i(e),r=i(t),o=i.fancybox=function(){o.open.apply(this,arguments)},s=!1,l=null,d=t.createTouch!==n,c=function(e){return"string"===i.type(e)},u=function(e){return c(e)&&e.indexOf("%")>0},p=function(e,t){return t&&u(e)&&(e=o.getViewport()[t]/100*parseInt(e,10)),Math.round(e)+"px"};i.extend(o,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!d,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(i.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){o.close(!0),e&&!i.isArray(e)&&(e=e instanceof i?i(e).get():[e]),o.isActive=!0,o.opts=i.extend(!0,{},o.defaults,t),i.isPlainObject(t)&&t.keys!==n&&(o.opts.keys=!!t.keys&&i.extend({},o.defaults.keys,t.keys)),o.group=e,o._start(o.opts.index||0)},cancel:function(){o.coming&&!1===o.trigger("onCancel")||(o.coming=null,o.hideLoading(),o.ajaxLoad&&o.ajaxLoad.abort(),o.ajaxLoad=null,o.imgPreload&&(o.imgPreload.onload=o.imgPreload.onabort=o.imgPreload.onerror=null))},close:function(e){o.cancel(),o.current&&!1!==o.trigger("beforeClose")&&(o.unbindEvents(),!o.isOpen||e&&e[0]===!0?(i(".fancybox-wrap").stop().trigger("onReset").remove(),o._afterZoomOut()):(o.isOpen=o.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),o.wrap.stop(!0).removeClass("fancybox-opened"),o.inner.css("overflow","hidden"),o.transitions[o.current.closeMethod]()))},play:function(e){var t=function(){clearTimeout(o.player.timer)},n=function(){t(),o.current&&o.player.isActive&&(o.player.timer=setTimeout(o.next,o.current.playSpeed))},a=function(){t(),i("body").unbind(".player"),o.player.isActive=!1,o.trigger("onPlayEnd")},r=function(){o.current&&(o.current.loop||o.current.index<o.group.length-1)&&(o.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":a,"beforeLoad.player":t}),n(),o.trigger("onPlayStart"))};o.player.isActive||e&&e[0]===!1?a():r()},next:function(){o.current&&o.jumpto(o.current.index+1)},prev:function(){o.current&&o.jumpto(o.current.index-1)},jumpto:function(e){o.current&&(e=parseInt(e,10),o.group.length>1&&o.current.loop&&(e>=o.group.length?e=0:e<0&&(e=o.group.length-1)),o.group[e]!==n&&(o.cancel(),o._start(e)))},reposition:function(e,t){var i;o.isOpen&&(i=o._getPosition(t),e&&"scroll"===e.type?(delete i.position,o.wrap.stop(!0,!0).animate(i,200)):o.wrap.css(i))},update:function(e){o.isOpen&&(s||(l=setTimeout(function(){var t=o.current,i=!e||e&&"orientationchange"===e.type;if(s){if(s=!1,!t)return;e&&"scroll"===e.type&&!i||(t.autoSize&&"iframe"!==t.type&&(o.inner.height("auto"),t.height=o.inner.height()),(t.autoResize||i)&&o._setDimension(),t.canGrow&&"iframe"!==t.type&&o.inner.height("auto")),(t.autoCenter||i)&&o.reposition(e),o.trigger("onUpdate")}},200)),s=!0)},toggle:function(){o.isOpen&&(o.current.fitToView=!o.current.fitToView,o.update())},hideLoading:function(){r.unbind("keypress.fb"),i("#fancybox-loading").remove()},showLoading:function(){o.hideLoading(),r.bind("keypress.fb",function(e){27===e.keyCode&&(e.preventDefault(),o.cancel())}),i('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body")},getViewport:function(){return{x:a.scrollLeft(),y:a.scrollTop(),w:d&&e.innerWidth?e.innerWidth:a.width(),h:d&&e.innerHeight?e.innerHeight:a.height()}},unbindEvents:function(){o.wrap&&o.wrap.unbind(".fb"),r.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e=o.current,t=e.keys;e&&(a.bind("resize.fb orientationchange.fb"+(e.autoCenter&&!e.fixed?" scroll.fb":""),o.update),t&&r.bind("keydown.fb",function(e){var n,a=e.target||e.srcElement;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||a&&(a.type||i(a).is("[contenteditable]"))||(n=e.keyCode,i.inArray(n,t.close)>-1?(o.close(),e.preventDefault()):i.inArray(n,t.next)>-1?(o.next(),e.preventDefault()):i.inArray(n,t.prev)>-1&&(o.prev(),e.preventDefault()))}),i.fn.mousewheel&&e.mouseWheel&&o.group.length>1&&o.wrap.bind("mousewheel.fb",function(e,t){var i=e.target||null;0===t||i&&0!==i.clientHeight&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)||(e.preventDefault(),o[t>0?"prev":"next"]())}))},trigger:function(e,t){var n,a=t||o[i.inArray(e,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),n===!1)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&i.isPlainObject(o.helpers[t])&&i.isFunction(o.helpers[t][e])&&o.helpers[t][e](n,a)}),i.event.trigger(e+".fb")}},isImage:function(e){return c(e)&&e.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(e){return c(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,a,r,s,l={},d=o.group[e]||null;if(d&&(d.nodeType||d instanceof i)&&(t=!0,i.metadata&&(l=i(d).metadata())),l=i.extend(!0,{},o.opts,{index:e,element:d},i.isPlainObject(d)?d:l),i.each(["href","title","content","type"],function(e,n){l[n]=o.opts[n]||t&&i(d).attr(n)||l[n]||null}),"number"==typeof l.margin&&(l.margin=[l.margin,l.margin,l.margin,l.margin]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),o.coming=l,!1===o.trigger("beforeLoad"))return void(o.coming=null);switch(a=l.type,n=l.href||d,a||(t&&((a=i(d).data("fancybox-type"))||(r=d.className.match(/fancybox\.(\w+)/),a=r?r[1]:null)),!a&&c(n)&&(o.isImage(n)?a="image":o.isSWF(n)?a="swf":n.match(/^#/)&&(a="inline")),a||(a=t?"inline":"html"),l.type=a),"inline"===a||"html"===a?(l.content||(l.content="inline"===a?i(c(n)?n.replace(/.*(?=#[^\s]+$)/,""):n):d),l.content&&l.content.length||(a=null)):n||(a=null),"ajax"===a&&c(n)&&(s=n.split(/\s+/,2),n=s.shift(),l.selector=s.shift()),l.href=n,l.group=o.group,l.isDom=t,a){case"image":o._loadImage();break;case"ajax":o._loadAjax();break;case"inline":case"iframe":case"swf":case"html":o._afterLoad();break;default:o._error("type")}},_error:function(e){o.hideLoading(),i.extend(o.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:e,content:o.coming.tpl.error}),o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,o.coming.width=this.width,o.coming.height=this.height,o._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,o._error("image")},e.src=o.coming.href,e.complete!==n&&e.complete||o.showLoading()},_loadAjax:function(){o.showLoading(),o.ajaxLoad=i.ajax(i.extend({},o.coming.ajax,{url:o.coming.href,error:function(e,t){o.coming&&"abort"!==t?o._error("ajax",e):o.hideLoading()},success:function(e,t){"success"===t&&(o.coming.content=e,o._afterLoad())}}))},_preloadImages:function(){var e,t,n,a=o.group,r=o.current,s=a.length,l=Math.min(r.preload,s-1);if(r.preload&&!(a.length<2))for(n=1;n<=l;n+=1)e=a[(r.index+n)%s],t=e.href||i(e).attr("href")||e,("image"===e.type||o.isImage(t))&&((new Image).src=t)},_afterLoad:function(){if(o.hideLoading(),!o.coming||!1===o.trigger("afterLoad",o.current))return void(o.coming=!1);o.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),o.wrap.stop(!0).removeClass("fancybox-opened"),o.inner.css("overflow","hidden"),o.transitions[o.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),o.trigger("afterClose")),o.unbindEvents(),o.isOpen=!1,o.current=o.coming,o.wrap=i(o.current.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+o.current.type+" fancybox-tmp "+o.current.wrapCSS).appendTo("body"),o.skin=i(".fancybox-skin",o.wrap).css("padding",p(o.current.padding)),o.outer=i(".fancybox-outer",o.wrap),o.inner=i(".fancybox-inner",o.wrap),o._setContent()},_setContent:function(){var e,t=o.current,n=t.content,a=t.type,r=t.minWidth,s=t.minHeight,l=t.maxWidth,c=t.maxHeight;switch(a){case"inline":case"ajax":case"html":t.selector?n=i("<div>").html(n).find(t.selector):n instanceof i&&(n.parent().hasClass("fancybox-inner")&&n.parents(".fancybox-wrap").unbind("onReset"),n=n.show().detach(),i(o.wrap).bind("onReset",function(){n.appendTo("body").hide()})),t.autoSize&&(e=i('<div class="fancybox-wrap '+o.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:p(r,"w"),minHeight:p(s,"h"),maxWidth:p(l,"w"),maxHeight:p(c,"h")}).append(n),t.width=e.width(),t.height=e.height(),e.width(o.current.width),e.height()>t.height&&(e.width(t.width+1),t.width=e.width(),t.height=e.height()),n=e.contents().detach(),e.remove());break;case"image":n=t.tpl.image.replace("{href}",t.href),t.aspectRatio=!0;break;case"swf":n=t.tpl.swf.replace(/\{width\}/g,t.width).replace(/\{height\}/g,t.height).replace(/\{href\}/g,t.href);break;case"iframe":n=i(t.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",t.scrolling).attr("src",t.href),t.scrolling=d?"scroll":"auto"}"image"!==a&&"swf"!==a||(t.autoSize=!1,t.scrolling="visible"),"iframe"===a&&t.autoSize?(o.showLoading(),o._setDimension(),o.inner.css("overflow",t.scrolling),n.bind({onCancel:function(){i(this).unbind(),o._afterZoomOut()},load:function(){o.hideLoading();try{this.contentWindow.document.location&&(o.current.height=i(this).contents().find("body").height())}catch(e){o.current.autoSize=!1}o[o.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(o.inner)):(o.inner.append(n),o._beforeShow())},_beforeShow:function(){o.coming=null,o.trigger("beforeShow"),o._setDimension(),o.wrap.hide().removeClass("fancybox-tmp"),o.bindEvents(),o._preloadImages(),o.transitions[o.isOpened?o.current.nextMethod:o.current.openMethod]()},_setDimension:function(){var e,t,n=o.wrap,a=o.inner,r=o.current,s=o.getViewport(),l=r.margin,d=2*r.padding,c=r.width,f=r.height,g=r.maxWidth+d,h=r.maxHeight+d,v=r.minWidth+d,m=r.minHeight+d;if(s.w-=l[1]+l[3],s.h-=l[0]+l[2],u(c)&&(c=(s.w-d)*parseFloat(c)/100),u(f)&&(f=(s.h-d)*parseFloat(f)/100),e=c/f,c+=d,f+=d,r.fitToView&&(g=Math.min(s.w,g),h=Math.min(s.h,h)),r.aspectRatio?(c>g&&(c=g,f=(c-d)/e+d),f>h&&(f=h,c=(f-d)*e+d),c<v&&(c=v,f=(c-d)/e+d),f<m&&(f=m,c=(f-d)*e+d)):(c=Math.max(v,Math.min(c,g)),f=Math.max(m,Math.min(f,h))),c=Math.round(c),f=Math.round(f),i(n.add(a)).width("auto").height("auto"),a.width(c-d).height(f-d),n.width(c),t=n.height(),c>g||t>h)for(;(c>g||t>h)&&c>v&&t>m;)f-=10,r.aspectRatio?(c=Math.round((f-d)*e+d))<v&&(c=v,f=(c-d)/e+d):c-=10,a.width(c-d).height(f-d),n.width(c),t=n.height();r.dim={width:p(c),height:p(t)},r.canGrow=r.autoSize&&f>m&&f<h,r.canShrink=!1,r.canExpand=!1,c-d<r.width||f-d<r.height?r.canExpand=!0:(c>s.w||t>s.h)&&c>v&&f>m&&(r.canShrink=!0),o.innerSpace=t-d-a.height()},_getPosition:function(e){var t=o.current,i=o.getViewport(),n=t.margin,a=o.wrap.width()+n[1]+n[3],r=o.wrap.height()+n[0]+n[2],s={position:"absolute",top:n[0]+i.y,left:n[3]+i.x};return t.autoCenter&&t.fixed&&!e&&r<=i.h&&a<=i.w&&(s={position:"fixed",top:n[0],left:n[3]}),s.top=p(Math.max(s.top,s.top+(i.h-r)*t.topRatio)),s.left=p(Math.max(s.left,s.left+.5*(i.w-a))),s},_afterZoomIn:function(){var e=o.current,t=e?e.scrolling:"no";e&&(o.isOpen=o.isOpened=!0,o.wrap.addClass("fancybox-opened"),o.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),o.trigger("afterShow"),o.update(),(e.closeClick||e.nextClick)&&o.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||o[e.closeClick?"close":"next"]()}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",o.close),e.arrows&&o.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev),(e.loop||e.index<o.group.length-1)&&i(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)),o.opts.autoPlay&&!o.player.isActive&&(o.opts.autoPlay=!1,o.play()))},_afterZoomOut:function(){var e=o.current;o.wrap.trigger("onReset").remove(),i.extend(o,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),o.trigger("afterClose",e)}}),o.transitions={getOrigPosition:function(){var e,t=o.current,n=t.element,a=t.padding,r=i(t.orig),s={},l=50,d=50;return!r.length&&t.isDom&&i(n).is(":visible")&&(r=i(n).find("img:first"),r.length||(r=i(n))),r.length?(s=r.offset(),r.is("img")&&(l=r.outerWidth(),d=r.outerHeight())):(e=o.getViewport(),s.top=e.y+.5*(e.h-d),s.left=e.x+.5*(e.w-l)),s={top:p(s.top-a),left:p(s.left-a),width:p(l+2*a),height:p(d+2*a)}},step:function(e,t){var i,n,a=t.prop;"width"!==a&&"height"!==a||(i=Math.ceil(e-2*o.current.padding),"height"===a&&(n=(e-t.start)/(t.end-t.start),t.start>t.end&&(n=1-n),i-=o.innerSpace*n),o.inner[a](i))},zoomIn:function(){var e=o.wrap,t=o.current,n=t.openEffect,a="elastic"===n,r=t.dim,s=i.extend({},r,o._getPosition(a)),l=i.extend({opacity:1},s);delete l.position,a?(s=this.getOrigPosition(),t.openOpacity&&(s.opacity=0),o.outer.add(o.inner).width("auto").height("auto")):"fade"===n&&(s.opacity=0),e.css(s).show().animate(l,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:a?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.wrap,t=o.current,i=t.openEffect,n="elastic"===i,a={opacity:0};n&&("fixed"===e.css("position")&&e.css(o._getPosition(!0)),a=this.getOrigPosition(),t.closeOpacity&&(a.opacity=0)),e.animate(a,{duration:"none"===i?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e=o.wrap,t=o.current,i=t.nextEffect,n="elastic"===i,a=o._getPosition(n),r={opacity:1};a.opacity=0,n&&(a.top=p(parseInt(a.top,10)-200),r.top="+=200px"),e.css(a).show().animate(r,{duration:"none"===i?0:t.nextSpeed,easing:t.nextEasing,complete:o._afterZoomIn})},changeOut:function(){var e=o.wrap,t=o.current,n=t.prevEffect,a={opacity:0},r=function(){i(this).trigger("onReset").remove()};e.removeClass("fancybox-opened"),"elastic"===n&&(a.top="+=200px"),e.animate(a,{duration:"none"===n?0:t.prevSpeed,easing:t.prevEasing,complete:r})}},o.helpers.overlay={overlay:null,update:function(){var e,n,o;this.overlay.width("100%").height("100%"),i.browser.msie||d?(n=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth),o=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),e=n<o?a.width():n):e=r.width(),this.overlay.width(e).height(r.height())},beforeShow:function(e){this.overlay||(e=i.extend(!0,{},o.defaults.helpers.overlay,e),this.overlay=i('<div id="fancybox-overlay"></div>').css(e.css).appendTo("body"),e.closeClick&&this.overlay.bind("click.fb",o.close),o.current.fixed&&!d?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(e.speedIn,e.opacity))},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||0,function(){i(this).remove()}),this.overlay=null}},o.helpers.title={beforeShow:function(e){var t,n=o.current.title;n&&(t=i('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+n+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),o.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?o.inner:"outside"===e.type?o.wrap:o.skin))}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||"",s=function(r){var s,l,d=this,c=t;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||i(d).is(".fancybox-wrap")||(r.preventDefault(),s=e.groupAttr||"data-fancybox-group",l=i(d).attr(s),l||(s="rel",l=d[s]),l&&""!==l&&"nofollow"!==l&&(d=a.length?i(a):n,d=d.filter("["+s+'="'+l+'"]'),c=d.index(this)),e.index=c,o.open(d,e))};return e=e||{},t=e.index||0,a?r.undelegate(a,"click.fb-start").delegate(a,"click.fb-start",s):n.unbind("click.fb-start").bind("click.fb-start",s),this},i(t).ready(function(){o.defaults.fixed=i.support.fixedPosition||!(i.browser.msie&&i.browser.version<=6)&&!d})}(window,document,jQuery);var pasteEventName=getPasteEvent()+".mask",ua=navigator.userAgent,iPhone=/iphone/i.test(ua),android=/android/i.test(ua),caretTimeoutId;$.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},$.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(e,t){var i,n,a,r,o,s;return!e&&this.length>0?(i=$(this[0]),i.data($.mask.dataName)()):(t=$.extend({placeholder:$.mask.placeholder,completed:null},t),n=$.mask.definitions,a=[],r=s=e.length,o=null,$.each(e.split(""),function(e,t){"?"==t?(s--,r=e):n[t]?(a.push(new RegExp(n[t])),null===o&&(o=a.length-1)):a.push(null)}),this.trigger("unmask").each(function(){function i(e){for(;++e<s&&!a[e];);return e}function l(e){for(;--e>=0&&!a[e];);return e}function d(e,n){var r,l;if(!(e<0)){for(r=e,l=i(n);r<s;r++)if(a[r]){if(!(l<s&&a[r].test(m[l])))break;m[r]=m[l],m[l]=t.placeholder,l=i(l)}g(),v.caret(Math.max(o,e))}}function c(e){var n,r,o,l;for(n=e,r=t.placeholder;n<s;n++)if(a[n]){if(o=i(n),l=m[n],m[n]=r,!(o<s&&a[o].test(l)))break;r=l}}function u(e){var t,n,a,r=e.which;if(8===r||46===r||iPhone&&127===r)t=v.caret(),n=t.begin,a=t.end,a-n==0&&(n=46!==r?l(n):a=i(n-1),a=46===r?i(a):a),f(n,a),d(n,a-1),e.preventDefault();else if(27==r)v.val(x),v.caret(0,h()),e.preventDefault();else if(13==e.keyCode&&"+7 (___) ___-__-__"==$(this).val()||13==e.keyCode&&$(this).val().match(/_/g))return!1}function p(e){var n,r,o,l=e.which,u=v.caret();e.ctrlKey||e.altKey||e.metaKey||l<32||l&&(u.end-u.begin!=0&&(f(u.begin,u.end),d(u.begin,u.end-1)),n=i(u.begin-1),n<s&&(r=String.fromCharCode(l),a[n].test(r)&&(c(n),m[n]=r,g(),o=i(n),android?setTimeout($.proxy($.fn.caret,v,o),0):v.caret(o),t.completed&&o>=s&&t.completed.call(v))),e.preventDefault())}function f(e,i){var n;for(n=e;n<i&&n<s;n++)a[n]&&(m[n]=t.placeholder)}function g(){v.val(m.join(""))}function h(e){var i,n,l=v.val(),d=-1;for(i=0,pos=0;i<s;i++)if(a[i]){for(m[i]=t.placeholder;pos++<l.length;)if(n=l.charAt(pos-1),a[i].test(n)){m[i]=n,d=i;break}if(pos>l.length)break}else m[i]===l.charAt(pos)&&i!==r&&(pos++,d=i);return e?g():d+1<r?(v.val(""),f(0,s)):(g(),v.val(v.val().substring(0,d+1))),r?i:o}var v=$(this),m=$.map(e.split(""),function(e,i){if("?"!=e)return n[e]?t.placeholder:e}),x=v.val();v.data($.mask.dataName,function(){return $.map(m,function(e,i){return a[i]&&e!=t.placeholder?e:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData($.mask.dataName)}).bind("focus.mask",function(){clearTimeout(caretTimeoutId);var t;x=v.val(),t=h(),caretTimeoutId=setTimeout(function(){g(),t==e.length?v.caret(0,t):v.caret(t)},10)}).bind("blur.mask",function(){h(),v.val()!=x&&v.change()}).bind("keydown.mask",u).bind("keypress.mask",p).bind(pasteEventName,function(){setTimeout(function(){var e=h(!0);v.caret(e),t.completed&&e==v.val().length&&t.completed.call(v)},0)}),h()}))}}),function(e){"use strict";var t={init:function(i){var n=this;return n.data("jqv")&&null!=n.data("jqv")||(i=t._saveOptions(n,i),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(i){if(!e(this).is("form"))return alert("Sorry, jqv.attach() only applies to a form"),this;var n,a=this;return n=i?t._saveOptions(a,i):a.data("jqv"),n.validateAttribute=a.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",n.binded&&(a.find("["+n.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").keypress(n.validationEventTrigger,t._onFieldEvent),a.find("["+n.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(n.validationEventTrigger,t._onFieldEvent),a.find("["+n.validateAttribute+"*=validate][type=checkbox],["+n.validateAttribute+"*=validate][type=radio]").bind("click",t._onFieldEvent),a.find("["+n.validateAttribute+"*=validate][class*=datepicker]").bind(n.validationEventTrigger,{delay:300},t._onFieldEvent)),n.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:a},t.updatePromptsPosition),a.bind("submit",t._onSubmitEvent),this},detach:function(){if(!e(this).is("form"))return alert("Sorry, jqv.detach() only applies to a form"),this;var i=this,n=i.data("jqv");return i.find("["+n.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(n.validationEventTrigger,t._onFieldEvent),i.find("["+n.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),i.unbind("submit",t.onAjaxFormComplete),i.find("["+n.validateAttribute+"*=validate]").not("[type=checkbox]").die(n.validationEventTrigger,t._onFieldEvent),i.find("["+n.validateAttribute+"*=validate][type=checkbox]").die("click",t._onFieldEvent),i.die("submit",t.onAjaxFormComplete),i.removeData("jqv"),n.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition),this},validate:function(){var i=e(this),n=null;if(i.is("form")&&!i.hasClass("validating")){i.addClass("validating");var a=i.data("jqv");n=t._validateFields(this),setTimeout(function(){i.removeClass("validating")},100),n&&a.onFormSuccess?a.onFormSuccess():!n&&a.onFormFailure&&a.onFormFailure()}else if(i.is("form"))i.removeClass("validating");else{var r=i.closest("form"),a=r.data("jqv");n=t._validateField(i,a),n&&a.onFieldSuccess?a.onFieldSuccess():a.onFieldFailure&&a.InvalidFields.length>0&&a.onFieldFailure()}return n},updatePromptsPosition:function(i){if(i&&this==window)var n=i.data.formElem,a=i.data.noAnimation;else var n=e(this.closest("form"));var r=n.data("jqv");return n.find("["+r.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=e(this);r.prettySelect&&i.is(":hidden")&&(i=n.find("#"+r.usePrefix+i.attr("id")+r.useSuffix));var o=t._getPrompt(i),s=e(o).find(".formErrorContent").html();o&&t._updatePrompt(i,e(o),s,void 0,!1,r,a)}),this},showPrompt:function(e,i,n,a){var r=this.closest("form"),o=r.data("jqv");return o||(o=t._saveOptions(this,o)),n&&(o.promptPosition=n),o.showArrow=1==a,t._showPrompt(this,e,i,!1,o),this},hide:function(){var i,n=e(this).closest("form"),a=n.data("jqv"),r=a&&a.fadeDuration?a.fadeDuration:.3;return i=e(this).is("form")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+i).fadeTo(r,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,i=t.data("jqv"),n=i?i.fadeDuration:.3;return e(".formError").fadeTo(n,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(i){var n=e(this),a=n.closest("form"),r=a.data("jqv");r.eventTrigger="field",window.setTimeout(function(){t._validateField(n,r),0==r.InvalidFields.length&&r.onFieldSuccess?r.onFieldSuccess():r.InvalidFields.length>0&&r.onFieldFailure&&r.onFieldFailure()},i.data?i.data.delay:0)},_onSubmitEvent:function(){var i=e(this),n=i.data("jqv");n.eventTrigger="submit";var a=t._validateFields(i);return a&&n.ajaxFormValidation?(t._validateFormWithAjax(i,n),!1):n.onValidationComplete?!!n.onValidationComplete(i,a):a},_checkAjaxStatus:function(t){var i=!0;return e.each(t.ajaxValidCache,function(e,t){if(!t)return i=!1,!1}),i},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(i){var n=i.data("jqv"),a=!1;i.trigger("jqv.form.validating");var r=null;if(i.find("["+n.validateAttribute+"*=validate]").not(":disabled").each(function(){var o=e(this),s=[];if(e.inArray(o.attr("name"),s)<0){if(a|=t._validateField(o,n),a&&null==r&&(r=o.is(":hidden")&&n.prettySelect?o=i.find("#"+n.usePrefix+t._jqSelector(o.attr("id"))+n.useSuffix):o),n.doNotShowAllErrosOnSubmit)return!1;if(s.push(o.attr("name")),1==n.showOneMessage&&a)return!1}}),i.trigger("jqv.form.result",[a]),a){if(n.scroll){var o=r.offset().top,s=r.offset().left,l=n.promptPosition;if("string"==typeof l&&l.indexOf(":")!=-1&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var d=t._getPrompt(r);d&&(o=d.offset().top)}if(n.isOverflown){var c=e(n.overflownDIV);if(!c.length)return!1;o+=c.scrollTop()+-parseInt(c.offset().top)-5;e(n.overflownDIV+":not(:animated)").animate({scrollTop:o},1100,function(){n.focusFirstField&&r.focus()})}else e("body,html").stop().animate({scrollTop:o,scrollLeft:s},1100,function(){n.focusFirstField&&r.focus()})}else n.focusFirstField&&r.focus();return!1}return!0},_validateFormWithAjax:function(i,n){var a=i.serialize(),r=n.ajaxmethod?n.ajaxmethod:"GET",o=n.ajaxFormValidationURL?n.ajaxFormValidationURL:i.attr("action"),s=n.dataType?n.dataType:"json";e.ajax({type:r,url:o,cache:!1,dataType:s,data:a,form:i,methods:t,options:n,beforeSend:function(){return n.onBeforeAjaxFormValidation(i,n)},error:function(e,i){t._ajaxError(e,i)},success:function(a){if("json"==s&&a!==!0){for(var r=!1,o=0;o<a.length;o++){var l=a[o],d=l[0],c=e(e("#"+d)[0]);if(1==c.length){var u=l[2];if(1==l[1])if(""!=u&&u){if(n.allrules[u]){var p=n.allrules[u].alertTextOk;p&&(u=p)}t._showPrompt(c,u,"pass",!1,n,!0)}else t._closePrompt(c);else{if(r|=!0,n.allrules[u]){var p=n.allrules[u].alertText;p&&(u=p)}t._showPrompt(c,u,"",!1,n,!0)}}}n.onAjaxFormComplete(!r,i,a,n)}else n.onAjaxFormComplete(!0,i,a,n)}})},_validateField:function(i,n,a){if(i.attr("id")||(i.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter),i.is(":hidden")&&!n.prettySelect||i.parent().is(":hidden"))return!1;var r=i.attr(n.validateAttribute),o=/validate\[(.*)\]/.exec(r);if(!o)return!1;var s=o[1],l=s.split(/\[|,|\]/),d=!1,c=i.attr("name"),u="",p="",f=!1,g=!1;n.isError=!1,n.showArrow=!0,n.maxErrorsPerField>0&&(g=!0);var h=e(i.closest("form"));for(var v in l)l[v]=l[v].replace(" ",""),""===l[v]&&delete l[v];for(var v=0,m=0;v<l.length;v++){if(g&&m>=n.maxErrorsPerField){if(!f){var x=e.inArray("required",l);f=x!=-1&&x>=v}break}var b=void 0;switch(l[v]){case"required":f=!0,b=t._getErrorMessage(h,i,l[v],l,v,n,t._required);break;case"required_select":f=!0,b=t._getErrorMessage(h,i,l[v],l,v,n,t._required);break;case"fio":f=!0,b=t._getErrorMessage(h,i,l[v],l,v,n,t._required);break;case"phone":f=!0,b=t._getErrorMessage(h,i,l[v],l,v,n,t._required);break;case"mail":f=!0,b=t._getErrorMessage(h,i,l[v],l,v,n,t._required);break;case"custom":b=t._getErrorMessage(h,i,l[v],l,v,n,t._custom);break;case"groupRequired":var w="["+n.validateAttribute+"*="+l[v+1]+"]",y=h.find(w).eq(0);if(y[0]!=i[0]){t._validateField(y,n,a),n.showArrow=!0;continue}b=t._getErrorMessage(h,i,l[v],l,v,n,t._groupRequired),b&&(f=!0),n.showArrow=!1;break;case"ajax":b=t._ajax(i,l,v,n),b&&(p="load");break;case"minSize":b=t._getErrorMessage(h,i,l[v],l,v,n,t._minSize);break;case"maxSize":b=t._getErrorMessage(h,i,l[v],l,v,n,t._maxSize);break;case"min":b=t._getErrorMessage(h,i,l[v],l,v,n,t._min);break;case"max":b=t._getErrorMessage(h,i,l[v],l,v,n,t._max);break;case"past":b=t._getErrorMessage(h,i,l[v],l,v,n,t._past);break;case"future":b=t._getErrorMessage(h,i,l[v],l,v,n,t._future);break;case"dateRange":var w="["+n.validateAttribute+"*="+l[v+1]+"]";n.firstOfGroup=h.find(w).eq(0),n.secondOfGroup=h.find(w).eq(1),(n.firstOfGroup[0].value||n.secondOfGroup[0].value)&&(b=t._getErrorMessage(h,i,l[v],l,v,n,t._dateRange)),b&&(f=!0),n.showArrow=!1;break;case"dateTimeRange":var w="["+n.validateAttribute+"*="+l[v+1]+"]";n.firstOfGroup=h.find(w).eq(0),n.secondOfGroup=h.find(w).eq(1),(n.firstOfGroup[0].value||n.secondOfGroup[0].value)&&(b=t._getErrorMessage(h,i,l[v],l,v,n,t._dateTimeRange)),b&&(f=!0),n.showArrow=!1;break;case"maxCheckbox":i=e(h.find("input[name='"+c+"']")),b=t._getErrorMessage(h,i,l[v],l,v,n,t._maxCheckbox);break;case"minCheckbox":i=e(h.find("input[name='"+c+"']")),b=t._getErrorMessage(h,i,l[v],l,v,n,t._minCheckbox);break;case"equals":b=t._getErrorMessage(h,i,l[v],l,v,n,t._equals);break;case"funcCall":b=t._getErrorMessage(h,i,l[v],l,v,n,t._funcCall);break;case"creditCard":b=t._getErrorMessage(h,i,l[v],l,v,n,t._creditCard);break;case"condRequired":b=t._getErrorMessage(h,i,l[v],l,v,n,t._condRequired),void 0!==b&&(f=!0)}var S=!1;if("object"==typeof b)switch(b.status){case"_break":S=!0;break;case"_error":b=b.message;break;case"_error_no_prompt":return!0}if(S)break;"string"==typeof b&&(u+=b+"<br/>",n.isError=!0,m++)}!f&&i.val().length<1&&(n.isError=!1);var _=i.prop("type");("radio"==_||"checkbox"==_)&&h.find("input[name='"+c+"']").size()>1&&(i=e(h.find("input[name='"+c+"'][type!=hidden]:first")),n.showArrow=!1),i.is(":hidden")&&n.prettySelect&&(i=h.find("#"+n.usePrefix+t._jqSelector(i.attr("id"))+n.useSuffix)),n.isError?t._showPrompt(i,u,p,!1,n):d||t._closePrompt(i),d||i.trigger("jqv.field.result",[i,n.isError,u]);var T=e.inArray(i[0],n.InvalidFields);return T==-1?n.isError&&n.InvalidFields.push(i[0]):n.isError||n.InvalidFields.splice(T,1),t._handleStatusCssClasses(i,n),n.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(i,n,a,r,o,s,l){var d=a;if("custom"==a){a="custom["+r[jQuery.inArray(a,r)+1]+"]"}var c,u=n.attr("data-validation-engine")?n.attr("data-validation-engine"):n.attr("class"),p=u.split(" ");if(void 0!=(c="future"==a||"past"==a||"maxCheckbox"==a||"minCheckbox"==a?l(i,n,r,o,s):l(n,r,o,s))){var f=t._getCustomErrorMessage(e(n),p,d,s);f&&(c=f)}return c},_getCustomErrorMessage:function(e,i,n,a){var r=!1,o=t._validityProp[n];if(void 0!=o&&void 0!=(r=e.attr("data-errormessage-"+o)))return r;if(void 0!=(r=e.attr("data-errormessage")))return r;var s="#"+e.attr("id");if(void 0!==a.custom_error_messages[s]&&void 0!==a.custom_error_messages[s][n])r=a.custom_error_messages[s][n].message;else if(i.length>0)for(var l=0;l<i.length&&i.length>0;l++){var d="."+i[l];if(void 0!==a.custom_error_messages[d]&&void 0!==a.custom_error_messages[d][n]){r=a.custom_error_messages[d][n].message;break}}return r||void 0===a.custom_error_messages[n]||void 0===a.custom_error_messages[n].message||(r=a.custom_error_messages[n].message),r},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,i,n,a){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder")||t.val()==t.attr("placeholder"))return a.allrules[i[n]].alertText;break;case"radio":case"checkbox":var r=t.closest("form"),o=t.attr("name");if(0==r.find("input[name='"+o+"']:checked").size())return 1==r.find("input[name='"+o+"']:visible").size()?a.allrules[i[n]].alertTextCheckboxe:a.allrules[i[n]].alertTextCheckboxMultiple}},_groupRequired:function(i,n,a,r){var o="["+r.validateAttribute+"*="+n[a+1]+"]",s=!1;if(i.closest("form").find(o).each(function(){if(!t._required(e(this),n,a,r))return s=!0,!1}),!s)return r.allrules[n[a]].alertText},_custom:function(e,t,i,n){var a,r=t[i+1],o=n.allrules[r];if(!o)return void alert("jqv:custom rule not found - "+r);if(o.regex){var s=o.regex;if(!s)return void alert("jqv:custom regex not found - "+r);if(!new RegExp(s).test(e.val()))return n.allrules[r].alertText}else{if(!o.func)return void alert("jqv:custom type not allowed "+r);if("function"!=typeof(a=o.func))return void alert("jqv:custom parameter 'function' is no function - "+r);if(!a(e,t,i,n))return n.allrules[r].alertText}},_funcCall:function(e,t,i,n){var a,r=t[i+1];if(r.indexOf(".")>-1){for(var o=r.split("."),s=window;o.length;)s=s[o.shift()];a=s}else a=window[r]||n.customFunctions[r];if("function"==typeof a)return a(e,t,i,n)},_equals:function(t,i,n,a){var r=i[n+1];if(t.val()!=e("#"+r).val())return a.allrules.equals.alertText},_maxSize:function(e,t,i,n){var a=t[i+1];if(e.val().length>a){var r=n.allrules.maxSize;return r.alertText+a+r.alertText2}},_minSize:function(e,t,i,n){var a=t[i+1];if(e.val().length<a){var r=n.allrules.minSize;return r.alertText+a+r.alertText2}},_min:function(e,t,i,n){var a=parseFloat(t[i+1]);if(parseFloat(e.val())<a){var r=n.allrules.min;return r.alertText2?r.alertText+a+r.alertText2:r.alertText+a}},_max:function(e,t,i,n){var a=parseFloat(t[i+1]);if(parseFloat(e.val())>a){var r=n.allrules.max;return r.alertText2?r.alertText+a+r.alertText2:r.alertText+a}},_past:function(i,n,a,r,o){var s,l=a[r+1],d=e(i.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;s=t._parseDate(d.val())}else s=t._parseDate(l);if(t._parseDate(n.val())>s){var c=o.allrules.past;return c.alertText2?c.alertText+t._dateToString(s)+c.alertText2:c.alertText+t._dateToString(s)}},_future:function(i,n,a,r,o){var s,l=a[r+1],d=e(i.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=d.val()){if(d.is(":disabled"))return;s=t._parseDate(d.val())}else s=t._parseDate(l);if(t._parseDate(n.val())<s){var c=o.allrules.future;return c.alertText2?c.alertText+t._dateToString(s)+c.alertText2:c.alertText+t._dateToString(s)}},_isDate:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(e)},_isDateTime:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,i,n,a){return!a.firstOfGroup[0].value&&a.secondOfGroup[0].value||a.firstOfGroup[0].value&&!a.secondOfGroup[0].value?a.allrules[i[n]].alertText+a.allrules[i[n]].alertText2:t._isDate(a.firstOfGroup[0].value)&&t._isDate(a.secondOfGroup[0].value)&&t._dateCompare(a.firstOfGroup[0].value,a.secondOfGroup[0].value)?void 0:a.allrules[i[n]].alertText+a.allrules[i[n]].alertText2},_dateTimeRange:function(e,i,n,a){return!a.firstOfGroup[0].value&&a.secondOfGroup[0].value||a.firstOfGroup[0].value&&!a.secondOfGroup[0].value?a.allrules[i[n]].alertText+a.allrules[i[n]].alertText2:t._isDateTime(a.firstOfGroup[0].value)&&t._isDateTime(a.secondOfGroup[0].value)&&t._dateCompare(a.firstOfGroup[0].value,a.secondOfGroup[0].value)?void 0:a.allrules[i[n]].alertText+a.allrules[i[n]].alertText2},_maxCheckbox:function(e,t,i,n,a){var r=i[n+1],o=t.attr("name");if(e.find("input[name='"+o+"']:checked").size()>r)return a.showArrow=!1,a.allrules.maxCheckbox.alertText2?a.allrules.maxCheckbox.alertText+" "+r+" "+a.allrules.maxCheckbox.alertText2:a.allrules.maxCheckbox.alertText},_minCheckbox:function(e,t,i,n,a){var r=i[n+1],o=t.attr("name");if(e.find("input[name='"+o+"']:checked").size()<r)return a.showArrow=!1,a.allrules.minCheckbox.alertText+" "+r+" "+a.allrules.minCheckbox.alertText2},_creditCard:function(e,t,i,n){var a=!1,r=e.val().replace(/ +/g,"").replace(/-+/g,""),o=r.length;if(o>=14&&o<=16&&parseInt(r)>0){var s,l=0,i=o-1,d=1,c=new String;do{s=parseInt(r.charAt(i)),c+=d++%2==0?2*s:s}while(--i>=0);for(i=0;i<c.length;i++)l+=parseInt(c.charAt(i));a=l%10==0}if(!a)return n.allrules.creditCard.alertText},_ajax:function(i,n,a,r){var o=n[a+1],s=r.allrules[o],l=s.extraData,d=s.extraDataDynamic,c={fieldId:i.attr("id"),fieldValue:i.val()};if("object"==typeof l)e.extend(c,l);else if("string"==typeof l)for(var u=l.split("&"),a=0;a<u.length;a++){var p=u[a].split("=");p[0]&&p[0]&&(c[p[0]]=p[1])}if(d)for(var f=String(d).split(","),a=0;a<f.length;a++){var g=f[a];if(e(g).length){var h=i.closest("form").find(g).val();g.replace("#",""),escape(h);c[g.replace("#","")]=h}}if("field"==r.eventTrigger&&delete r.ajaxValidCache[i.attr("id")],!r.isError&&!t._checkAjaxFieldStatus(i.attr("id"),r))return e.ajax({type:r.ajaxFormValidationMethod,url:s.url,cache:!1,dataType:"json",data:c,field:i,rule:s,methods:t,options:r,beforeSend:function(){},error:function(e,i){t._ajaxError(e,i)},success:function(n){var a=n[0],o=e("#"+a+"']").eq(0);if(1==o.length){var l=n[1],d=n[2];if(l){if(r.ajaxValidCache[a]=!0,d){if(r.allrules[d]){var c=r.allrules[d].alertTextOk;c&&(d=c)}}else d=s.alertTextOk;d?t._showPrompt(o,d,"pass",!0,r):t._closePrompt(o),"submit"==r.eventTrigger&&i.closest("form").submit()}else{if(r.ajaxValidCache[a]=!1,r.isError=!0,d){if(r.allrules[d]){var c=r.allrules[d].alertText;c&&(d=c)}}else d=s.alertText;t._showPrompt(o,d,"",!0,r)}}o.trigger("jqv.field.result",[o,r.isError,d])}}),s.alertTextLoad},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,i,n,a,r,o){var s=t._getPrompt(e);o&&(s=!1),s?t._updatePrompt(e,s,i,n,a,r):t._buildPrompt(e,i,n,a,r)},_buildPrompt:function(i,n,a,r,o){var s=e("<div>");switch(s.addClass(t._getClassName(i.attr("id"))+"formError"),s.addClass("parentForm"+t._getClassName(i.parents("form").attr("id"))),s.addClass("formError"),a){case"pass":s.addClass("greenPopup");break;case"load":s.addClass("blackPopup")}r&&s.addClass("ajaxed");e("<div>").addClass("formErrorContent").html(n).appendTo(s);if(o.showArrow){var l=e("<div>").addClass("formErrorArrow"),d=i.data("promptPosition")||o.promptPosition;if("string"==typeof d){var c=d.indexOf(":");c!=-1&&(d=d.substring(0,c))}switch(d){case"bottomLeft":case"bottomRight":s.find(".formErrorContent").before(l),l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),s.append(l)}}i.closest(".ui-dialog").length&&s.addClass("formErrorInsideDialog"),s.css({opacity:0,position:"absolute"}),i.before(s);var c=t._calculatePosition(i,s,o);return s.css({top:c.callerTopPosition,left:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}).data("callerField",i),o.autoHidePrompt&&setTimeout(function(){s.animate({opacity:0},function(){s.closest(".formErrorOuter").remove(),s.remove()})},o.autoHideDelay),s.animate({opacity:.87})},_updatePrompt:function(e,i,n,a,r,o,s){if(i){void 0!==a&&("pass"==a?i.addClass("greenPopup"):i.removeClass("greenPopup"),"load"==a?i.addClass("blackPopup"):i.removeClass("blackPopup")),r?i.addClass("ajaxed"):i.removeClass("ajaxed"),i.find(".formErrorContent").html(n);var l=t._calculatePosition(e,i,o),d={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize};s?i.css(d):i.animate(d)}},_closePrompt:function(e){var i=t._getPrompt(e);i&&i.fadeTo("fast",0,function(){i.parent(".formErrorOuter").remove(),i.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(i){var n=e(i).closest("form").attr("id"),a=t._getClassName(i.attr("id"))+"formError",r=e("."+t._escapeExpression(a)+".parentForm"+n)[0];if(r)return e(r)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var i=e(document),n=e("body"),a=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase();return Boolean(a)},_calculatePosition:function(e,t,i){var n,a,r,o=e.width(),s=e.position().left,l=e.position().top,d=(e.height(),t.height());n=a=0,r=-d;var c=e.data("promptPosition")||i.promptPosition,u="",p="",f=0,g=0;switch("string"==typeof c&&c.indexOf(":")!=-1&&(u=c.substring(c.indexOf(":")+1),c=c.substring(0,c.indexOf(":")),u.indexOf(",")!=-1&&(p=u.substring(u.indexOf(",")+1),u=u.substring(0,u.indexOf(",")),g=parseInt(p),isNaN(g)&&(g=0)),f=parseInt(u),isNaN(u)&&(u=0)),c){default:case"topRight":a+=s+o-30,n+=l;break;case"topLeft":n+=l,a+=s;break;case"centerRight":n=l+4,r=0,a=s+e.outerWidth(!0)+5;break;case"centerLeft":a=s-(t.width()+2),n=l+4,r=0;break;case"bottomLeft":n=l+e.height()+5,r=0,a=s;break;case"bottomRight":a=s+o-30,n=l+e.height()+5,r=0}return a+=f,n+=g,{callerTopPosition:n+"px",callerleftPosition:a+"px",marginTopSize:r+"px"}},_saveOptions:function(t,i){if(e.validationEngineLanguage)var n=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=n;var a=e.extend(!0,{},e.validationEngine.defaults,i);return t.data("jqv",a),a},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,i,n,a){var r,o;for(r=n+1;r<i.length;r++)if(o=jQuery("#"+i[r]).first(),o.length&&void 0==t._required(o,["required"],0,a))return t._required(e,["required"],0,a)}};e.fn.validationEngine=function(i){var n=e(this);return n[0]?"string"==typeof i&&"_"!=i.charAt(0)&&t[i]?("showPrompt"!=i&&"hide"!=i&&"hideAll"!=i&&t.init.apply(n),t[i].apply(n,Array.prototype.slice.call(arguments,1))):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist in jQuery.validationEngine"):(t.init.apply(n,arguments),t.attach.apply(n)):n},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!1,focusFirstField:!0,promptPosition:"centerRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onFormSuccess:!1,onFormFailure:!1,addSuccessCssClassToField:!1,addFailureCssClassToField:!1,autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,usePrefix:"",useSuffix:"",showOneMessage:!1}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topRight":"topLeft"})}(jQuery),function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* Необходимо заполнить",alertTextCheckboxMultiple:"* Вы должны выбрать вариант",alertTextCheckboxe:"* Необходимо отметить"},required_select:{regex:"none",alertText:"* Вы должны выбрать вариант",alertTextCheckboxMultiple:"* Вы должны выбрать вариант",alertTextCheckboxe:"* Необходимо отметить"},phone:{regex:"none",alertText:"* Укажите Ваш телефон"},mail:{regex:"none",alertText:"* Укажите Ваш E-mail"},fio:{regex:"none",alertText:"* Представьтесь, пожалуйста"},length:{regex:"none",alertText:"*Должно быть от ",alertText2:" до ",alertText3:" символов"},maxCheckbox:{regex:"none",alertText:"* Нельзя выбрать столько вариантов"},minCheckbox:{regex:"none",alertText:"* Пожайлуста выберите ",alertText2:" опции"},confirm:{regex:"none",alertText:"* Значения не совпадают"},telephone:{regex:"/^[0-9-() ]+$/",alertText:"* Неправильный формат телефона"},email:{regex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,alertText:"* Введите корректный e-mail"},date:{regex:"/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}$/",alertText:"* Неправильная дата, должно быть в ГГГГ-MM-ДД формате"},onlyNumber:{regex:"/^[0-9 ]+$/",alertText:"* числа только"},noSpecialCaracters:{regex:"/^[0-9a-zA-Z]+$/",alertText:"* Запрещены специальные символы"},ajaxUser:{file:"validateUser.php",extraData:"name=eric",alertTextOk:"* Этот пользователь доступен",alertTextLoad:"* Загрузка, подождите",alertText:"* Этот пользователь уже занят"},ajaxName:{file:"validateUser.php",alertText:"* Это имя уже занято",alertTextOk:"* Это имя доступно",alertTextLoad:"* Загрузка"},onlyLetter:{regex:"/^[a-zA-Z ']+$/",alertText:"* Только буквы"},validate2fields:{nname:"validate2fields",alertText:"* Вы должны заполнить поля с именем и фамилией"}}}}}(jQuery),$(document).ready(function(){$.validationEngineLanguage.newLang()});
